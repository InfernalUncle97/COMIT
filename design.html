<!doctype html>
<html lang="en" data-theme="light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Design Options & Selection â€” Saibai Floating Solar</title>
<meta name="color-scheme" content="light dark">
<style>
  /* ===== Design tokens (same family as your other pages) ===== */
  :root{
    --bg:#f3f8fc; --ink:#0f172a; --muted:#475569; --line:#e6eef5; --panel:#ffffff;
    --sea:#0ea5e9; --deep:#2563eb; --reef:#14b8a6; --sun:#f59e0b; --rose:#fb7185;
    --shadow:0 6px 26px rgba(15,23,42,.08); --band:#f8fbfe;
  }
  :root[data-theme="dark"]{
    --bg:#0b1220; --ink:#e7eefc; --muted:#a9b4c9; --line:#24314f; --panel:#0f1730;
    --sea:#22d3ee; --deep:#2563eb; --reef:#34d399; --sun:#fbbf24; --rose:#fb7185;
    --shadow:0 6px 26px rgba(0,0,0,.35); --band:#0f1835;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
  a{color:var(--sea);text-decoration:none}
  html{scroll-behavior:smooth}

  /* ===== WOW hero (animated wave + floating tiles) ===== */
  .hero{
    position:relative; overflow:hidden; color:#fff;
    background:linear-gradient(90deg,var(--sea),var(--deep));
    border-bottom:1px solid rgba(255,255,255,.25); box-shadow:var(--shadow);
  }
  .hero-inner{max-width:1200px;margin:0 auto;padding:84px 18px 96px}
  .hero h1{margin:0;font-size:clamp(2.4rem,6vw,4rem);letter-spacing:.4px}
  .hero p{opacity:.95;margin-top:8px}
  .float{
    position:absolute; inset:auto; width:110px; aspect-ratio:1; border-radius:18px;
    background:linear-gradient(135deg,#6ee7b7,#22d3ee); filter:blur(0);
    border:1px solid rgba(255,255,255,.6); opacity:.18; box-shadow:0 8px 40px rgba(0,0,0,.18);
    animation:drift 24s ease-in-out infinite alternate;
  }
  .f1{left:6%; top:18%;}
  .f2{right:8%; top:28%; animation-delay:-6s; width:90px}
  .f3{left:16%; bottom:14%; animation-delay:-12s; width:76px}
  @keyframes drift{0%{transform:translateY(0) rotate(0)}100%{transform:translateY(28px) rotate(10deg)}}
  .wave{position:absolute; left:0; right:0; bottom:-1px}

  /* ===== Sticky subnav tabs ===== */
  .subnav{
    position:sticky; top:0; z-index:50;
    background:linear-gradient(90deg,var(--sea),var(--deep));
    border-bottom:1px solid rgba(255,255,255,.25); box-shadow:var(--shadow);
  }
  .tabs{max-width:1200px;margin:0 auto; padding:12px 18px; display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .brand{display:flex;align-items:center;gap:10px;color:#fff;font-weight:800}
  .logo{width:22px;height:22px;border-radius:7px;background:linear-gradient(135deg,#6ee7b7,#22d3ee);border:1px solid rgba(255,255,255,.6)}
  .tab{display:inline-block;background:rgba(255,255,255,.14);color:#fff;font-weight:800;padding:.55rem .9rem;border-radius:999px;border:1px solid rgba(255,255,255,.45)}
  .tab:hover{background:rgba(255,255,255,.2)}
  .tab.active{background:#fff;color:#0c2440;margin-top:0}

  /* ===== Base layout ===== */
  .wrap{max-width:1200px;margin:0 auto;padding:18px}
  .section{margin-top:18px}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:22px;box-shadow:var(--shadow)}
  .section h2{margin:0 0 .6rem 0;font-size:1.9rem;border-bottom:3px solid var(--sea);padding-bottom:6px}
  .muted{color:var(--muted)}

  /* ===== Options (tilt cards + shine) ===== */
  .options{display:grid;gap:18px}
  .option{
    display:grid;gap:20px;grid-template-columns:1.15fr .85fr;align-items:start;
    perspective:1000px;
  }
  .pane{
    background:var(--panel); border:1px solid var(--line); border-radius:16px; padding:18px;
    transform-style:preserve-3d; transition:transform .25s ease, box-shadow .25s ease;
    position:relative; overflow:hidden;
  }
  .pane:hover{box-shadow:0 22px 60px rgba(15,23,42,.20)}
  .shine{pointer-events:none; position:absolute; inset:0;
         background:radial-gradient(600px 120px at var(--mx,50%) var(--my,0%), rgba(255,255,255,.35), transparent 60%);
         opacity:.0; transition:opacity .2s ease}
  .pane:hover .shine{opacity:.65}
  .pane h3{margin:.2rem 0 .6rem 0}
  figure{margin:0}
  .img{width:100%;height:auto;border-radius:12px;border:1px solid var(--line);box-shadow:var(--shadow)}
  figcaption{color:var(--muted);font-size:.92rem;margin-top:6px}
  @media (max-width:980px){ .option{grid-template-columns:1fr} }

  /* ===== Criteria bands ===== */
  .bands .band{padding:26px;border-radius:14px;border:1px solid var(--line);background:var(--panel)}
  .bands .band.alt{background:var(--band)}
  .bands h3{margin:.2rem 0 10px 0;font-size:1.35rem}
  .bands p{margin:.4rem 0 0 0;line-height:1.65}

  /* ===== Matrix table ===== */
  .table-wrap{margin-top:12px;overflow:auto;border-radius:12px;border:1px solid var(--line);box-shadow:var(--shadow)}
  table{width:100%;border-collapse:separate;border-spacing:0;background:var(--panel)}
  thead th{
    background:linear-gradient(180deg,#e2f0f6,#d6e9f3);
    color:#0c2440;font-weight:800;padding:14px;border-bottom:1px solid var(--line);text-align:left
  }
  th:first-child{border-top-left-radius:12px}
  th:last-child{border-top-right-radius:12px}
  tbody td{padding:14px;border-top:1px solid var(--line);vertical-align:middle}
  tbody tr:nth-child(odd) td{background:linear-gradient(180deg,#ffffff,#f8fbfe)}
  :root[data-theme="dark"] tbody tr:nth-child(odd) td{background:linear-gradient(180deg,#0f1730,#0f1838)}
  tfoot td{padding:16px 14px;font-weight:800;border-top:2px solid var(--line);background:#f4f9fd}
  :root[data-theme="dark"] tfoot td{background:#0f1835}
  .best{background:linear-gradient(180deg,#ecfeff,#d1fae5)!important}
  :root[data-theme="dark"] .best{background:linear-gradient(180deg,#0b2d2f,#0d3a2f)!important}
  .crown{font-size:1rem;margin-left:6px}

  /* ===== Radar + weights ===== */
  .matrix-grid{display:grid;gap:18px;grid-template-columns:1.25fr .75fr}
  @media (max-width:980px){ .matrix-grid{grid-template-columns:1fr} }
  .radarCard{display:grid;gap:10px}
  .radarCard canvas{width:100%;height:360px;display:block}
  details.weights{margin-top:12px;border:1px dashed var(--line);border-radius:12px;padding:12px;background:var(--band)}
  .weights summary{font-weight:800;cursor:pointer}
  .grid-weights{display:grid;gap:10px;grid-template-columns:repeat(2,1fr)}
  @media (max-width:800px){ .grid-weights{grid-template-columns:1fr} }
  .row{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
  input[type="range"]{width:100%}
  .num{width:90px;padding:8px;border:1px solid var(--line);border-radius:10px;background:transparent;color:var(--ink);font-weight:700;text-align:right}

  /* ===== Scroll reveal ===== */
  .reveal{opacity:0;transform:translateY(14px);transition:opacity .5s ease, transform .5s ease}
  .reveal.show{opacity:1;transform:none}

  /* ===== Confetti (winner celebration) ===== */
  #confetti{position:fixed;inset:0;pointer-events:none;z-index:60}
</style>
</head>
<body>

<!-- WOW hero -->
<header class="hero" aria-label="Intro">
  <div class="hero-inner">
    <h1>Design Options &amp; Selection</h1>
    <p>From possibilities to a community-led choice â€” explore the options, criteria and decision that favour floating solar for Saibai.</p>
  </div>

  <!-- decorative floaters -->
  <div class="float f1"></div><div class="float f2"></div><div class="float f3"></div>

  <!-- animated wave -->
  <svg class="wave" viewBox="0 0 1200 120" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <linearGradient id="g" x1="0" x2="1" y1="0" y2="0">
        <stop offset="0" stop-color="rgba(255,255,255,.35)"/>
        <stop offset="1" stop-color="rgba(255,255,255,.08)"/>
      </linearGradient>
    </defs>
    <path fill="url(#g)">
      <animate attributeName="d" dur="10s" repeatCount="indefinite"
        values="
        M0,40 C300,90 900,-10 1200,50 L1200,120 L0,120 Z;
        M0,50 C300,10 900,110 1200,60 L1200,120 L0,120 Z;
        M0,40 C300,90 900,-10 1200,50 L1200,120 L0,120 Z"/>
    </path>
  </svg>
</header>

<!-- Sticky tabs -->
<nav class="subnav" aria-label="Sections">
  <div class="tabs">
    <span class="brand"><span class="logo" aria-hidden="true"></span> Community Energy â€” Saibai</span>
    <a class="tab" data-nav href="#options">Options</a>
    <a class="tab" data-nav href="#criteria">Design Criteria</a>
    <a class="tab" data-nav href="#matrix">Decision Matrix</a>
    <a class="tab" data-nav href="#justification">Justification</a>
    <a class="tab" data-nav href="#selected">Selected Design</a>
  </div>
</nav>

<canvas id="confetti"></canvas>

<main class="wrap">

  <!-- OPTIONS ======================================================= -->
  <section id="options" class="section card reveal">
    <h2>Options</h2>
    <div class="options">

      <!-- Option 1 -->
      <article class="option">
        <div class="pane tilt" data-tilt>
          <div class="shine"></div>
          <h3>Option 1: Wind Turbines</h3>
          <p>This solution would involve the construction of a number of wind turbines on Saibai Island. The consistent wind currents passing through Saibai Island would provide a constant stream of clean energy to residents. There are concerns regarding the proximity of these wind turbines to the residential areas of Saibai and the suitability of the land for their installation.</p>
        </div>
        <figure class="pane">
          <img class="img" src="design1.png" alt="Onshore wind turbines near coast">
          <figcaption>Onshore wind turbines â€” Webb Institute (n.d.)</figcaption>
        </figure>
      </article>

      <!-- Option 2 -->
      <article class="option">
        <div class="pane tilt" data-tilt>
          <div class="shine"></div>
          <h3>Option 2: Land-based Solar Panels</h3>
          <p>This solution involves the installation of a land-based solar panel array on land nearby to the Saibai community. This would provide a constant stream of energy during the day and charge batteries to power the community during nights and overcast days.</p>
        </div>
        <figure class="pane">
          <img class="img" src="design2.png" alt="Rows of land based solar panels">
          <figcaption>View of a land-based solar farm â€” ColdwellSolar (n.d.)</figcaption>
        </figure>
      </article>

      <!-- Option 3 -->
      <article class="option">
        <div class="pane tilt" data-tilt>
          <div class="shine"></div>
          <h3>Option 3: Floating Solar Panels</h3>
          <p>Similar to land-based solar panels, this solution involves constructing platforms which have an array of solar panels attached to their top. This would provide a constant stream of energy during the day and charge batteries to power the community during nights and overcast days. Unlike the land-based solar model, this would save much more land space to be used by the Saibai residents.</p>
        </div>
        <figure class="pane">
          <img class="img" src="design3.png" alt="Circular floating solar platform on a water body">
          <figcaption>A floating solar panel array â€” SolarisFloat (2022)</figcaption>
        </figure>
      </article>

    </div>
  </section>

  <!-- CRITERIA ====================================================== -->
  <section id="criteria" class="section card reveal">
    <h2>Design Criteria</h2>
    <div class="bands" style="display:grid;gap:14px">
      <div class="band">
        <h3>Cultural Sustainability</h3>
        <p>The impact of the design solution on Saibai Island residentsâ€™ connection with culture. A positive impact is ideal, otherwise the impact must be minimised to ensure cultural activities are not disrupted. Improving the consistency and cost of energy on Saibai Island would be wasted if it were to degrade residentsâ€™ connection to their culture. Because of this, ensuring that the chosen solution has a minimal or positive impact on the culture of Saibai residents is essential. This can be achieved by consulting Saibai Island residents to provide feedback before and during the implementation phase.</p>
      </div>
      <div class="band alt">
        <h3>Environmental Sustainability</h3>
        <p>The environmental impact of the solution by comparing carbon emissions. The aim is to reduce carbon emissions as much as possible. Saibai Island residents are victims to climate change, as sea levels rise and severe weather conditions such as floods become more common, Saibai Island residents are increasingly threatened. It must be ensured that the chosen design does not have adverse environmental effects such as worsening climate change, nor does it cause changes to the local maritime ecosystems which Saibai residents rely on from day to day.</p>
      </div>
      <div class="band">
        <h3>Robustness</h3>
        <p>How readily the design solution is able to withstand the weather conditions on and around Saibai Island. The design should last at least 15 years without significant interruption to power generation and distribution. Saibai Island frequently experiences rough weather conditions. Our solution must be able to withstand these conditions in order to provide a consistent and reliable energy source for Saibai Island residents.</p>
      </div>
      <div class="band alt">
        <h3>Initial Cost</h3>
        <p>The initial cost of implementing the design solution. This includes purchasing materials, transport and labour costs for the construction and starting up the design solution. If the initial cost is too large to be funded, the project wonâ€™t be able to get off the ground and may result in a cost greater than the current diesel energy system.</p>
      </div>
      <div class="band">
        <h3>Maintenance Cost</h3>
        <p>The maintenance costs over the lifetime of the design solution. This may include labour costs for routine maintenance and cost of replacement parts if repair is necessary. Reducing maintenance costs should make up the largest long-term savings for the life of the design solution. The current system uses diesel as its fuel source which is highly costly to transport from the mainland and can also be unreliable due to supply chain issues. Any new system should be well below the cost of importing diesel for fuel over its lifetime.</p>
      </div>
      <div class="band alt">
        <h3>Complexity</h3>
        <p>The complexity of the design solution. A less complex design is better. By reducing the complexity of the design, we can train Saibai residents in maintenance of the system. This will reduce the need to fly in specialist maintenance staff from outside of Saibai and stimulating the Saibai Island economy by creating more jobs for residents.</p>
      </div>
    </div>
  </section>

  <!-- MATRIX ======================================================== -->
  <section id="matrix" class="section card reveal">
    <h2>Decision Matrix</h2>

    <div class="matrix-grid">
      <div>
        <div class="table-wrap" role="region" aria-label="Design decision matrix">
          <table id="dmatrix">
            <thead>
              <tr>
                <th>Criteria</th>
                <th>Ground-Based Solar</th>
                <th>Hybrid Microgrid</th>
                <th>Floating Solar</th>
              </tr>
            </thead>
            <tbody>
              <tr data-crit="Flood and Tide Resilience" data-weight="1">
                <td>Flood and Tide Resilience</td><td data-val="1">1</td><td data-val="3">3</td><td data-val="5">5</td>
              </tr>
              <tr data-crit="Land Use Efficiency" data-weight="1">
                <td>Land Use Efficiency</td><td data-val="1">1</td><td data-val="2">2</td><td data-val="5">5</td>
              </tr>
              <tr data-crit="Environmental Sustainability" data-weight="1">
                <td>Environmental Sustainability</td><td data-val="3">3</td><td data-val="4">4</td><td data-val="5">5</td>
              </tr>
              <tr data-crit="Local Maintenance Capability" data-weight="1">
                <td>Local Maintenance Capability</td><td data-val="2">2</td><td data-val="3">3</td><td data-val="4">4</td>
              </tr>
              <tr data-crit="Affordability (Long-Term)" data-weight="1">
                <td>Affordability (Long-Term)</td><td data-val="2">2</td><td data-val="3">3</td><td data-val="4">4</td>
              </tr>
              <tr data-crit="Scalability and Modularity" data-weight="1">
                <td>Scalability and Modularity</td><td data-val="2">2</td><td data-val="4">4</td><td data-val="5">5</td>
              </tr>
              <tr data-crit="Cultural and Community Alignment" data-weight="1">
                <td>Cultural and Community Alignment</td><td data-val="3">3</td><td data-val="4">4</td><td data-val="5">5</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Weighted Total</td>
                <td id="tot-gs">â€”</td>
                <td id="tot-hm">â€”</td>
                <td id="tot-fs">â€”</td>
              </tr>
            </tfoot>
          </table>
        </div>

        <details class="weights">
          <summary>Adjust criterion weights (optional)</summary>
          <p class="muted">Default weight = 1. Increase a weight to give that criterion more influence on the totals and the radar chart.</p>
          <div class="grid-weights" id="weightsPanel"></div>
        </details>
      </div>

      <div class="card radarCard">
        <canvas id="radar" aria-label="Radar comparison of options"></canvas>
      </div>
    </div>
  </section>

  <!-- JUSTIFICATION ================================================= -->
  <section id="justification" class="section card reveal">
    <h2>Decision Justification</h2>
    <ul>
      <li>The Floating Solar System achieved the highest overall rating across nearly all criteria.</li>
      <li>The design directly addresses Saibaiâ€™s flooding and land scarcity issues by locating infrastructure offshore.</li>
      <li>It promotes local training and employment, aligning with TSIRCâ€™s goals for community-led energy projects.</li>
      <li>Maintenance can be handled primarily by trained local rangers and youth, reducing reliance on external contractors.</li>
      <li>The modular nature of the system allows phased construction, making it financially and logistically feasible.</li>
      <li>It ensures long-term environmental and economic sustainability by significantly reducing diesel dependence and fuel transport emissions.</li>
    </ul>
  </section>

  <!-- SELECTED ====================================================== -->
  <section id="selected" class="section card reveal">
    <h2>Selected Design</h2>
    <p>Based on the decision matrix and criteria evaluation, the <strong>Floating Solar System</strong> was selected as the final design to be developed. This system uses 10Ã—10&nbsp;m HDPE floating platforms with solar panels and a dual battery/converter unit mounted on stilts near shore. It provides a clean, flood-resilient, and community-managed solution that preserves land for housing and cultural use while ensuring reliable power generation.</p>
  </section>
<!-- =========================
     DETAILED DESIGN (on-brand)
     ========================= -->
<section id="detailed-design" class="section card dd">
  <!-- Title + hero image -->
  <header class="dd-head">
    <h2>Detailed Design</h2>
    <figure class="dd-hero">
      <!-- Replace with your diagram image (the isometric system sketch) -->
      <img src="design4.png" alt="Floating Solar Power System â€” simplified diagram" style="background-color: #0b1220;">
    </figure>
  </header>

  <!-- Two-column layout: components as compact cards -->
  <div class="dd-grid">
    <div class="dd-col">
      <h3 class="dd-sub">System components</h3>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M3 7h18v10H3zM5 5h14M5 19h14" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>PV modules</h4>
          <p>Panels mounted on the floating frame convert sunlight to DC. Natural seawater cooling helps efficiency on hot days.</p>
        </div>
      </article>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M4 16l8-9 8 9M4 16h16M8 16v4m8-4v4" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>Floating platform</h4>
          <p>HDPE floats with aluminium frame. Buoyant, UV-resistant and designed for cyclone conditions.</p>
        </div>
      </article>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M5 7h14v10H5zM9 7v10M15 7v10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>Junction box</h4>
          <p>Collects DC from strings, adds isolation and surge protection before the sub-sea export.</p>
        </div>
      </article>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M3 12c5 0 5-6 9-6s4 12 9 12" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>Submarine cable</h4>
          <p>Armoured and marine-rated DC cable from the array to shore; UV-resistant and wet-mate compatible.</p>
        </div>
      </article>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M4 12h6m4 0h6M10 6v12m4-12v12" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>Power converter &amp; dual battery</h4>
          <p>Mounted on stilts above flood levels. Converts DCâ†’AC for the microgrid and manages two battery banks for autonomy.</p>
        </div>
      </article>

      <article class="dd-item">
        <span class="dd-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M4 20l4-3 4 2 8-6-4-2-8 6-4-2" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
        </span>
        <div class="dd-body">
          <h4>Moorings &amp; anchors</h4>
          <p>Catenary or taut systems sized for tides and surge; holds orientation while allowing safe movement.</p>
        </div>
      </article>
    </div>

    <!-- Energy flow summary with soft timeline -->
    <div class="dd-col">
      <h3 class="dd-sub">Energy flow (overview)</h3>

      <ol class="dd-steps">
        <li><span>1</span> Sunlight hits the PV modules.</li>
        <li><span>2</span> Modules convert sunlight to <strong>DC</strong>.</li>
        <li><span>3</span> Junction box gathers and conditions the <strong>DC</strong>.</li>
        <li><span>4</span> Submarine cable transmits <strong>DC</strong> to shore.</li>
        <li><span>5</span> Converter transforms <strong>DC â†’ AC</strong> for the grid.</li>
        <li><span>6</span> Dual battery stores excess energy for later use.</li>
        <li><span>7</span> <strong>AC</strong> power supplies the island network.</li>
      </ol>

      <figure class="dd-flow">
        <!-- Replace with your energy-flow graphic -->
        <img src="design6.png" alt="Energy flow diagram from panels to island network">
      </figure>

      <div class="dd-notes">
        <div class="dd-chip">Flood-ready siting (converter on stilts)</div>
        <div class="dd-chip">Modular expansion</div>
        <div class="dd-chip">Low land take</div>
      </div>
    </div>
  </div>
</section>

<!-- ===== Scoped styles so we donâ€™t disturb your global CSS ===== -->
<style>
/* colours come from your existing tokens */
.dd h2{margin:0 0 .6rem 0;font-size:1.8rem;border-bottom:3px solid var(--sea);padding-bottom:4px}
.dd-sub{margin:.6rem 0 .6rem 0;color:var(--muted);font-weight:700}

.dd-head{display:grid;gap:16px}
.dd-hero{margin:0;border:1px solid var(--line);border-radius:14px;overflow:hidden;background:var(--panel);box-shadow:var(--shadow)}
.dd-hero img{display:block;width:100%;height:auto}

.dd-grid{display:grid;gap:16px;grid-template-columns:1.1fr .9fr}
@media (max-width:980px){.dd-grid{grid-template-columns:1fr}}

.dd-col{display:grid;gap:12px}

.dd-item{display:grid;grid-template-columns:44px 1fr;gap:10px;
  background:linear-gradient(180deg,#fff,#f6fbff);border:1px solid var(--line);
  border-radius:12px;padding:12px}
:root[data-theme="dark"] .dd-item{background:linear-gradient(180deg,#0f1730,#0f1838)}
.dd-ico{display:grid;place-items:center;width:44px;height:44px;border-radius:10px;
  background:linear-gradient(135deg,rgba(34,211,238,.2),rgba(52,211,153,.18)); color:var(--deep)}
.dd-ico svg{width:24px;height:24px}
.dd-body h4{margin:0 0 2px 0;font-size:1rem}
.dd-body p{margin:0;color:var(--muted);font-size:.95rem}

.dd-steps{counter-reset:s;display:grid;gap:8px;margin:2px 0 6px 0;padding:0}
.dd-steps li{list-style:none;display:flex;gap:10px;align-items:flex-start;
  background:var(--panel);border:1px solid var(--line);border-radius:10px;padding:10px}
.dd-steps li span{display:inline-grid;place-items:center;min-width:26px;height:26px;border-radius:999px;
  font-weight:800;color:#fff;background:linear-gradient(135deg,#22d3ee,#34d399); box-shadow:0 3px 10px rgba(34,211,238,.25)}
.dd-steps strong{color:var(--ink)}

.dd-flow{margin:6px 0 2px 0;border:1px solid var(--line);border-radius:14px;overflow:hidden;background:var(--panel)}
.dd-flow img{display:block;width:100%;height:auto}

.dd-notes{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.dd-chip{border:1px solid var(--line);background:var(--panel);padding:.35rem .6rem;border-radius:999px;font-weight:700}

@media (prefers-reduced-motion:no-preference){
  .dd-item,.dd-steps li,.dd-hero,.dd-flow{animation:dd-fade .6s ease both; transform-origin:top left}
  .dd-item:nth-child(2){animation-delay:.04s}
  .dd-item:nth-child(3){animation-delay:.08s}
  .dd-item:nth-child(4){animation-delay:.12s}
  .dd-item:nth-child(5){animation-delay:.16s}
  .dd-item:nth-child(6){animation-delay:.2s}
  .dd-steps li:nth-child(1){animation-delay:.02s}
  .dd-steps li:nth-child(2){animation-delay:.06s}
  .dd-steps li:nth-child(3){animation-delay:.10s}
  .dd-steps li:nth-child(4){animation-delay:.14s}
  .dd-steps li:nth-child(5){animation-delay:.18s}
  .dd-steps li:nth-child(6){animation-delay:.22s}
  .dd-steps li:nth-child(7){animation-delay:.26s}
}
@keyframes dd-fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
</style>

</main>

<script>
/* Persist theme if you use a toggle on other pages */
const key='saibai-theme'; const saved = localStorage.getItem(key);
if(saved) document.documentElement.setAttribute('data-theme', saved);

/* Helpers */
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

/* ============== WOW 1: tilt cards with pointer-position shine ============== */
$$('.tilt').forEach(card=>{
  const shine = card.querySelector('.shine');
  card.addEventListener('pointermove', e=>{
    const r = card.getBoundingClientRect();
    const x = e.clientX - r.left, y = e.clientY - r.top;
    const rx = ((y/r.height)-0.5)*-8, ry = ((x/r.width)-0.5)*8;
    card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
    shine && (shine.style.setProperty('--mx', (x/r.width*100)+'%'),
               shine.style.setProperty('--my', (y/r.height*100)+'%'));
  });
  card.addEventListener('pointerleave', ()=> card.style.transform='none');
});

/* ============== Scroll reveal ============== */
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target);} });
},{threshold:.12});
$$('.reveal').forEach(el=>io.observe(el));

/* ============== Tabs highlight on scroll ============== */
const tabs = $$('.tab[data-nav]');
const sections = tabs.map(t => document.querySelector(t.getAttribute('href')));
const obs = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      const id = '#' + e.target.id;
      tabs.forEach(t=>t.classList.toggle('active', t.getAttribute('href')===id));
      history.replaceState(null,'',id);
    }
  });
},{rootMargin:'-50% 0px -45% 0px', threshold:0});
sections.forEach(s=>obs.observe(s));

/* ============== Matrix totals + Confetti celebration ============== */
const tbody = $('#dmatrix tbody');
const weightsPanel = $('#weightsPanel');
let lastWinner = null;

$$('#dmatrix tbody tr').forEach((row, idx)=>{
  const name = row.getAttribute('data-crit');
  const w = Number(row.getAttribute('data-weight')||1);
  const id = 'w_' + idx;
  const block = document.createElement('div');
  block.className = 'row';
  block.innerHTML = `
    <label for="${id}"><strong>${name}</strong></label>
    <div style="display:flex;gap:8px;align-items:center">
      <input id="${id}" type="range" min="0" max="5" step="0.5" value="${w}">
      <input data-weightbox="${idx}" class="num" type="number" min="0" max="5" step="0.5" value="${w}">
    </div>`;
  weightsPanel.appendChild(block);

  const range = block.querySelector('input[type="range"]');
  const box = block.querySelector('input[type="number"]');
  function sync(val){
    range.value = val; box.value = val;
    row.setAttribute('data-weight', String(val));
    calcTotals(true);
  }
  range.addEventListener('input', ()=>sync(range.value));
  box.addEventListener('input', ()=>{
    let v = parseFloat(box.value||'0'); if(isNaN(v)) v = 1;
    v = Math.max(0, Math.min(5, v)); sync(v);
  });
});

function calcTotals(animateRadar=false){
  const rows = $$('#dmatrix tbody tr');
  const sums = { gs:0, hm:0, fs:0 };
  const crits=[], wts=[];
  rows.forEach(r=>{
    const w = Number(r.getAttribute('data-weight')||1);
    const tds = r.querySelectorAll('td[data-val]');
    sums.gs += w * Number(tds[0].dataset.val);
    sums.hm += w * Number(tds[1].dataset.val);
    sums.fs += w * Number(tds[2].dataset.val);
    crits.push(r.getAttribute('data-crit'));
    wts.push(w);
  });

  $('#tot-gs').textContent = sums.gs.toFixed(1);
  $('#tot-hm').textContent = sums.hm.toFixed(1);
  $('#tot-fs').textContent = sums.fs.toFixed(1);

  // clear styles
  $$('#dmatrix tbody td, #dmatrix tfoot td').forEach(td=>td.classList.remove('best'));
  $$('.crown').forEach(c=>c.remove());

  // pick winner
  const max = Math.max(sums.gs, sums.hm, sums.fs);
  const colIndex = (sums.fs===max)?3 : (sums.hm===max?2:1);
  const winnerName = colIndex===3 ? 'Floating Solar' : (colIndex===2 ? 'Hybrid Microgrid' : 'Ground-Based Solar');

  $$('#dmatrix tr').forEach(tr=>{
    const tds = tr.children;
    if(tds[colIndex]) tds[colIndex].classList.add('best');
  });
  const headCell = $('#dmatrix thead tr').children[colIndex];
  if(headCell){ const span = document.createElement('span'); span.className='crown'; span.textContent='ðŸ‘‘'; headCell.appendChild(span); }

  // party if the winner changes to Floating Solar
  if(winnerName==='Floating Solar' && lastWinner!=='Floating Solar'){
    burstConfetti();
  }
  lastWinner = winnerName;

  // update radar
  const values = {
    labels: crits,
    weights: wts,
    gs: rows.map(r=>Number(r.querySelectorAll('td[data-val]')[0].dataset.val)),
    hm: rows.map(r=>Number(r.querySelectorAll('td[data-val]')[1].dataset.val)),
    fs: rows.map(r=>Number(r.querySelectorAll('td[data-val]')[2].dataset.val)),
  };
  drawRadar(values, animateRadar);
}

/* ============== WOW 2: Radar chart (Canvas, no libs) ============== */
const radar = $('#radar');
const rctx = radar.getContext('2d');
function drawRadar(data, animate){
  const W = radar.clientWidth||640, H = 360;
  radar.width = W * devicePixelRatio; radar.height = H * devicePixelRatio; rctx.scale(devicePixelRatio, devicePixelRatio);
  rctx.clearRect(0,0,W,H);

  const cx = W/2, cy = H/2 + 10, r = Math.min(W, H)/2 - 30;
  const n = data.labels.length;
  const ang = (i)=> -Math.PI/2 + i*(2*Math.PI/n);

  // grid
  rctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--line');
  for(let k=1;k<=4;k++){
    rctx.beginPath();
    for(let i=0;i<n;i++){
      const a = ang(i);
      const rr = (k/4)*r;
      const x = cx + rr*Math.cos(a), y = cy + rr*Math.sin(a);
      i===0 ? rctx.moveTo(x,y) : rctx.lineTo(x,y);
    }
    rctx.closePath(); rctx.stroke();
  }

  // labels
  rctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--ink');
  rctx.font = '12px system-ui';
  for(let i=0;i<n;i++){
    const a = ang(i); const x = cx + (r+10)*Math.cos(a), y = cy + (r+10)*Math.sin(a);
    rctx.textAlign = (Math.cos(a)>0.2)?'left':(Math.cos(a)<-0.2?'right':'center');
    rctx.textBaseline = (Math.sin(a)>0.2)?'top':(Math.sin(a)<-0.2?'bottom':'middle');
    rctx.fillText(data.labels[i], x, y);
  }

  // helper to draw a dataset
  function poly(vals, color){
    rctx.beginPath();
    vals.forEach((v,i)=>{
      const a = ang(i);
      const rr = (v/5) * r;
      const x = cx + rr*Math.cos(a), y = cy + rr*Math.sin(a);
      i===0 ? rctx.moveTo(x,y) : rctx.lineTo(x,y);
    });
    rctx.closePath();
    rctx.fillStyle = color; rctx.globalAlpha=.22; rctx.fill(); rctx.globalAlpha=1;
    rctx.strokeStyle = color; rctx.lineWidth = 2; rctx.stroke();
  }

  // apply weights (scale each axis)
  const wScale = data.weights.map(w=>Math.max(0.4, Math.min(1.2, w/1))); // visual emphasis
  const gsW = data.gs.map((v,i)=>Math.min(5, v*wScale[i]));
  const hmW = data.hm.map((v,i)=>Math.min(5, v*wScale[i]));
  const fsW = data.fs.map((v,i)=>Math.min(5, v*wScale[i]));

  // animate in
  if(animate){
    const start = performance.now();
    (function step(t){
      const p = Math.min(1,(t-start)/550);
      const ease = 1 - Math.pow(1-p,3);
      const lerp = (arr)=>arr.map(v=>v*ease);
      rctx.clearRect(0,0,W,H);
      // redraw grid/labels each frame
      drawRadar({labels:data.labels,weights:data.weights,gs:data.gs,hm:data.hm,fs:data.fs}, false);
      poly(lerp(gsW), '#fb7185'); poly(lerp(hmW), '#22d3ee'); poly(lerp(fsW), '#34d399');
      if(p<1) requestAnimationFrame(step);
    })(start);
  } else {
    poly(gsW, '#fb7185'); poly(hmW, '#22d3ee'); poly(fsW, '#34d399');
  }
}

/* ============== Confetti ============== */
const cCan = $('#confetti'); const cCtx = cCan.getContext('2d');
function sizeConfetti(){ cCan.width = innerWidth*devicePixelRatio; cCan.height = innerHeight*devicePixelRatio; cCtx.scale(devicePixelRatio, devicePixelRatio); }
sizeConfetti(); addEventListener('resize', sizeConfetti);
let confettiParts = [];
function burstConfetti(){
  confettiParts = [];
  const colors = ['#22d3ee','#34d399','#fbbf24','#fb7185'];
  for(let i=0;i<120;i++){
    confettiParts.push({
      x: innerWidth/2, y: 80, r: Math.random()*5+2,
      vx: (Math.random()-0.5)*6, vy: Math.random()*-4-2,
      g: .12+Math.random()*.05, c: colors[i%colors.length], a: 1, s: Math.random()*2*Math.PI
    });
  }
  (function anim(){
    cCtx.clearRect(0,0,innerWidth,innerHeight);
    confettiParts.forEach(p=>{
      p.vy += p.g; p.x += p.vx; p.y += p.vy; p.a -= .008; p.s += .1;
      cCtx.globalAlpha = Math.max(0,p.a);
      cCtx.fillStyle = p.c; cCtx.save();
      cCtx.translate(p.x,p.y); cCtx.rotate(p.s);
      cCtx.fillRect(-p.r,-p.r,p.r*2,p.r*2);
      cCtx.restore();
    });
    cCtx.globalAlpha = 1;
    confettiParts = confettiParts.filter(p=>p.a>0 && p.y<innerHeight+20);
    if(confettiParts.length) requestAnimationFrame(anim);
  })();
}

/* ============== Init ============== */
calcTotals(false);   // compute totals & draw radar once
addEventListener('resize', ()=>drawRadar({labels:[],weights:[],gs:[],hm:[],fs:[]}, false) || calcTotals(false)); // re-measure radar on resize
</script>
</body>
</html>
<!-- =========================
< =========================
         FOOTER SECTION
     ========================= -->
<footer class="site-footer">
  <div class="footer-wrap">
    <div class="footer-left">
      <h3>Saibai Island Renewable Energy Project</h3>
      <p>Design Area 4.1 â€“ Clean, affordable energy for small coastal urban environments</p>
    </div>

    <!-- Links in your requested order + labels -->
    <nav class="footer-links" aria-label="Site footer">
      <a href="detail.html">Project Brief</a>
      <a href="executive_summary.html">Executive Summary</a>
      <a href="Understanding_Saibai.html">Understanding saibai</a>
      <a href="prototyping.html">Prototype</a>
      <a href="implementation_plan.html">Implementation Plan</a>
      <a href="cost_analysis.html">Cost Analysis</a>
      <a href="design.html">Design Section</a>
    </nav>
  </div>

  <div class="footer-credit">
    <p>Â© 2025 Engineers Without Borders Challenge</p>
  </div>
</footer>

<style>
.site-footer{
  background:linear-gradient(180deg,#0f172a,#1e293b);
  color:#f1f5f9;
  padding:3rem 1rem 1rem;
  margin-top:4rem;
  border-top:4px solid var(--reef);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}
.footer-wrap{
  max-width:1100px;margin:0 auto;
  display:flex;flex-wrap:wrap;justify-content:space-between;gap:2rem;
  border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:1rem;
}
.footer-left h3{font-size:1.2rem;color:var(--reef);margin:.1rem 0 .5rem}
.footer-left p{margin:0;color:#cbd5e1;font-size:.95rem;line-height:1.4}
.footer-links{display:flex;flex-wrap:wrap;gap:.8rem 1.2rem;align-items:center}
.footer-links a{color:#f1f5f9;text-decoration:none;font-weight:600}
.footer-links a:hover{color:var(--sea)}
.footer-credit{text-align:center;margin-top:1.2rem;font-size:.85rem;color:#94a3b8}
</style>


